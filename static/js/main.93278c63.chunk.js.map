{"version":3,"sources":["img/car-fill.svg","img/car-outline.svg","img/tree-fill.svg","img/tree-outline.svg","utils/nItems.js","Viz.js","ValueLabelComponent.js","SettingsMenu.js","Navbar.js","VizToggle.js","SavingsDescription.js","SavingsGraph.js","hooks/useLocalStorageState.js","OpowerApp.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","getNItems","currentYear","priorYear","vizMode","savings","Math","round","Viz","classes","makeStyles","theme","vizContainer","padding","delayedZoom","transitionDelay","vizIcon","width","useStyles","nItems","className","Array","abs","map","e","i","Zoom","in","key","uuid","v4","style","src","CarFill","TreeFill","CarOutline","TreeOutline","ValueLabelComponent","props","children","open","value","popperRef","React","useRef","useEffect","current","update","Tooltip","PopperProps","enterTouchDelay","placement","title","SettingsMenu","setPriorYear","setCurrentYear","menuItem","menuLabel","menuSlider","marginLeft","marginRight","useState","anchorEl","setAnchorEl","Boolean","IconButton","aria-label","aria-controls","aria-haspopup","onClick","event","currentTarget","color","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","Typography","Slider","defaultValue","max","onChangeCommitted","root","flexGrow","appBar","height","Navbar","AppBar","position","VizToggle","setVizMode","toggleButtonGroup","margin","ToggleButtonGroup","exclusive","onChange","newVizMode","ToggleButton","SavingsDescription","descriptionIcon","paddingRight","paddingTop","descriptionBodyText","paddingLeft","paddingBottom","Container","display","flexDirection","variant","gutterBottom","SavingsGraph","graphData","name","kwh","data","top","right","left","bottom","strokeDasharray","dataKey","domain","fill","useLocalStorageState","defaultVal","val","JSON","parse","window","localStorage","getItem","String","state","setState","setItem","stringify","OpowerApp","energyUse","bgPaper","backgroundColor","mainGrid","marginTop","descriptionPaper","vizPaper","textAlign","Paper","elevation","Grid","container","justify","spacing","item","xs","md","lg","App","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.93278c63.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car-fill.c07f5df3.svg\";","module.exports = __webpack_public_path__ + \"static/media/car-outline.7d7be337.svg\";","module.exports = __webpack_public_path__ + \"static/media/tree-fill.785e703c.svg\";","module.exports = __webpack_public_path__ + \"static/media/tree-outline.ebc5639c.svg\";","function getNItems(currentYear, priorYear, vizMode) {\n    const curYear = currentYear\n    const lastYear = priorYear\n    const savings = lastYear - curYear\n    const carFactor = 35\n    const treeFactor = 210\n    const nItems = Math.round((vizMode === \"cars\" ? (savings / carFactor) : (savings / treeFactor)) * 100) / 100\n    return nItems\n}\n\nexport default getNItems","import React from \"react\"\nimport CarFill from \"./img/car-fill.svg\"\nimport CarOutline from \"./img/car-outline.svg\"\nimport TreeFill from \"./img/tree-fill.svg\"\nimport TreeOutline from \"./img/tree-outline.svg\"\nimport uuid from \"uuid\"\nimport getNItems from \"./utils/nItems\"\nimport Zoom from '@material-ui/core/Zoom'\nimport { makeStyles } from '@material-ui/core/styles'\n\n\nfunction Viz({ currentYear, priorYear, vizMode }) {\n    const useStyles = makeStyles(theme => ({\n        vizContainer: {\n            padding: 20\n        },\n        delayedZoom: {\n            transitionDelay: \"100ms\"\n        },\n        vizIcon: {\n            width: \"20%\",\n            padding: 10\n            // filter: \"invert(0.5) sepia(1) saturate(1) hue-rotate(\" + Math.floor(Math.random() * 360) + \"deg)\"\n        }\n    }))\n    const classes = useStyles()\n    const nItems = getNItems(currentYear, priorYear, vizMode)\n    return (\n        <div className={classes.vizContainer}>\n            {[...Array(Math.abs(Math.round(nItems)))].map((e, i) =>\n                <Zoom in={true} key={uuid.v4()} style={{\n                    transitionDelay: `${(i + 1) * 100}ms`\n                }} >\n                    <img\n                        src={vizMode == \"cars\" ? CarFill : TreeFill}\n                        className={classes.vizIcon}\n                        key={i}\n                    />\n                </Zoom>\n            )}\n            {nItems == 0 &&\n                <Zoom in={true} key={uuid.v4()} className={classes.delayedZoom} >\n                    <img src={vizMode == \"cars\" ? CarOutline : TreeOutline} className={classes.vizIcon} />\n                </Zoom>\n            }\n        </div >\n    )\n}\n\nexport default Viz","import React, { useEffect } from \"react\"\nimport Tooltip from \"@material-ui/core/Tooltip\"\nimport PropTypes from 'prop-types';\n\nfunction ValueLabelComponent(props) {\n    const { children, open, value } = props;\n\n    const popperRef = React.useRef(null);\n    React.useEffect(() => {\n        if (popperRef.current) {\n            popperRef.current.update();\n        }\n    });\n\n    return (\n        <Tooltip\n            PopperProps={{\n                popperRef,\n            }}\n            open={open}\n            enterTouchDelay={0}\n            placement=\"top\"\n            title={value}\n        >\n            {children}\n        </Tooltip>\n    );\n}\n\nValueLabelComponent.propTypes = {\n    children: PropTypes.element.isRequired,\n    open: PropTypes.bool.isRequired,\n    value: PropTypes.number.isRequired,\n};\n\nexport default ValueLabelComponent","import React from \"react\"\nimport Menu from \"@material-ui/core/Menu\"\nimport MenuItem from \"@material-ui/core/MenuItem\"\nimport Slider from \"@material-ui/core/Slider\"\nimport ValueLabelComponent from \"./ValueLabelComponent\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport Settings from \"@material-ui/icons/Settings\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nfunction SettingsMenu({ priorYear, currentYear, setPriorYear, setCurrentYear }) {\n    const useStyles = makeStyles(theme => ({\n        menuItem: {\n            width: 300\n        },\n        menuLabel: {\n            width: 120\n        },\n        menuSlider: {\n            marginLeft: 20,\n            marginRight: 25\n        }\n    }))\n    const classes = useStyles()\n    const [anchorEl, setAnchorEl] = React.useState(null)\n    const handleMenu = event => {\n        setAnchorEl(event.currentTarget)\n    }\n    const handleClose = () => {\n        setAnchorEl(null)\n    }\n    const open = Boolean(anchorEl);\n    const handlePriorYearSliderChange = (e, value) => {\n        setPriorYear(value)\n    }\n    const handleThisYearSliderChange = (e, value) => {\n        setCurrentYear(value)\n    }\n\n    return (\n        <>\n            <IconButton\n                aria-label=\"adjust values\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n            >\n                <Settings />\n            </IconButton>\n            <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                keepMounted\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                open={open}\n                onClose={handleClose}\n            >\n                <MenuItem className={classes.menuItem} ><Typography className={classes.menuLabel}>Prior Year</Typography>\n                    <Slider\n                        ValueLabelComponent={ValueLabelComponent}\n                        aria-label=\"adjust prior year energy use\"\n                        defaultValue={priorYear}\n                        className={classes.menuSlider}\n                        max={2000}\n                        onChangeCommitted={handlePriorYearSliderChange}\n                        defaultValue={priorYear}\n                    />\n                </MenuItem>\n                <MenuItem className={classes.menuItem} ><Typography className={classes.menuLabel}>This Year</Typography>\n                    <Slider\n                        ValueLabelComponent={ValueLabelComponent}\n                        aria-label=\"adjust current year energy\"\n                        defaultValue={currentYear}\n                        className={classes.menuSlider}\n                        max={2000}\n                        onChangeCommitted={handleThisYearSliderChange}\n                        defaultValue={currentYear}\n                    />\n                </MenuItem>\n            </Menu>\n        </>\n    )\n}\n\nexport default SettingsMenu","import React from \"react\"\nimport AppBar from \"@material-ui/core/AppBar\"\nimport ToolBar from \"@material-ui/core/Toolbar\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport SettingsMenu from \"./SettingsMenu\"\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n    },\n    title: {\n        flexGrow: 1,\n    },\n    appBar: {\n        height: 64\n    }\n}))\n\nfunction Navbar({ priorYear, currentYear, setPriorYear, setCurrentYear }) {\n    const classes = useStyles()\n    return (\n        <AppBar color=\"primary\" position=\"static\" className={classes.appBar}>\n            <ToolBar>\n                <Typography color=\"inherit\" className={classes.title}>Your Energy Savings</Typography>\n                <SettingsMenu priorYear={priorYear} currentYear={currentYear} setPriorYear={setPriorYear} setCurrentYear={setCurrentYear} />\n            </ToolBar>\n        </AppBar >\n    )\n}\n\nexport default Navbar","import React from \"react\"\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\"\nimport ToggleButton from \"@material-ui/lab/ToggleButton\"\nimport DriveEta from \"@material-ui/icons/DriveEta\"\nimport NaturePeople from \"@material-ui/icons/NaturePeople\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\n\nfunction VizToggle({ vizMode, setVizMode }) {\n    const handleVizMode = (event, newVizMode) => {\n        if (newVizMode) {\n            setVizMode(newVizMode)\n        }\n    }\n    const useStyles = makeStyles(theme => ({\n        toggleButtonGroup: {\n            margin: 20\n        }\n    }))\n    const classes = useStyles()\n    return (\n        <ToggleButtonGroup\n            className={classes.toggleButtonGroup}\n            value={vizMode}\n            exclusive\n            onChange={handleVizMode}\n            aria-label=\"viz type\">\n            <ToggleButton value=\"cars\" aria-label=\"cars\">\n                <DriveEta /><Typography>Cars</Typography>\n            </ToggleButton>\n            <ToggleButton value=\"trees\" aria-label=\"trees\">\n                <NaturePeople /><Typography>Trees</Typography>\n            </ToggleButton>\n        </ToggleButtonGroup>\n    )\n}\n\nexport default VizToggle","import React from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport ThumbUp from \"@material-ui/icons/ThumbUp\"\nimport Warning from \"@material-ui/icons/Warning\"\nimport CheckCircle from \"@material-ui/icons/CheckCircle\"\nimport Typography from \"@material-ui/core/Typography\"\nimport uuid from \"uuid\"\nimport Zoom from '@material-ui/core/Zoom';\nimport getNItems from \"./utils/nItems\"\nimport { makeStyles } from '@material-ui/core/styles';\n\nfunction SavingsDescription({ priorYear, currentYear, vizMode }) {\n    const nItems = getNItems(currentYear, priorYear, vizMode)\n    const useStyles = makeStyles(theme => ({\n        descriptionIcon: {\n            paddingRight: 15,\n            paddingTop: 2\n        },\n        descriptionBodyText: {\n            paddingLeft: 40,\n            paddingTop: 10,\n            paddingBottom: 20\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <Container>\n            <div style={{ display: \"flex\", flexDirection: \"row\", }}>\n                <Zoom in={true} key={uuid.v4()}>\n                    {\n                        nItems < 0 &&\n                        <Warning className={classes.descriptionIcon} />\n                        || nItems == 0 &&\n                        <CheckCircle className={classes.descriptionIcon} />\n                        || nItems > 0 &&\n                        <ThumbUp className={classes.descriptionIcon} />\n                    }\n                </Zoom>\n                <Typography variant=\"h5\" gutterBottom>\n                    {\n                        ((nItems < 0 && vizMode === \"cars\") && `Compared to this month last year, you used ${Math.abs(nItems)} more ${nItems === -1 ? \"car's\" : \"cars'\"} worth of energy.`)\n                        || ((nItems < 0 && vizMode === \"trees\") && `Compared to this month last year, you used the carbon equivalent of ${Math.abs(nItems)} ${nItems === -1 ? \"tree's\" : \"trees'\"} more energy.`)\n                        || ((nItems === 0) && `You used the same amount of energy as this month last year.`)\n                        || ((nItems > 0 && vizMode === \"cars\") && `Last month, you saved enough energy to take ${nItems} car${nItems === 1 ? \"\" : \"s\"} off the road!`)\n                        || ((nItems > 0 && vizMode === \"trees\") && `Last month, you saved the energy equivalent of ${nItems} tree${nItems === 1 ? \"'s\" : \"s'\"} worth of carbon!`)\n                    }\n                </Typography>\n            </div>\n            <Typography variant=\"body1\" className={classes.descriptionBodyText}>\n                {\n\n                    (nItems < 0 && vizMode == \"cars\") &&\n                    `You used ${currentYear} kwh last month, \n                        compared to ${priorYear} kwh in the same month last year. \n                        This amount is equal to the energy consumption of  \n                        ${Math.abs(nItems)} average-size car${nItems == 1 ? \"\" : \"s\"} for one month.`\n                    || (nItems < 0 && vizMode == \"trees\") &&\n                    `You used ${currentYear} kwh last month, \n                        compared to ${priorYear} kwh in the same month last year. \n                        It would take\n                        ${Math.abs(nItems)} tree${nItems == 1 ? \"\" : \"s\"} a month to sequester that amount of carbon.`\n                    || nItems == 0 &&\n                    `You used ${currentYear} kwh last month, \n                        the same amount as the same month last year.`\n                    || (nItems > 0 && vizMode == \"cars\") &&\n                    `Great Job! You used ${currentYear} kwh last month, \n                        compared to ${priorYear} kwh in the same month last year.\n                        The resulting saving is enough to offset the \n                        energy consumption of ${nItems} average-size car${nItems == 1 ? \"\" : \"s\"}\n                        for one month.`\n                    || (nItems > 0 && vizMode == \"trees\") &&\n                    `Great Job! You used ${currentYear} kwh last month, \n                        compared to ${priorYear} kwh in the same month last year.\n                        The resulting saving is equivalent to the \n                        carbon sequestered by ${nItems} tree${nItems == 1 ? \"\" : \"s\"}\n                        in one month.`\n                }\n            </Typography>\n        </Container>\n    )\n}\n\nexport default SavingsDescription","import React from \"react\"\nimport {\n    BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts'\n\nfunction SavingsGraph({ priorYear, currentYear }) {\n    const graphData = [\n        {\n            name: 'Last year', kwh: priorYear\n        },\n        {\n            name: 'This year', kwh: currentYear\n        }\n    ]\n\n    return (\n        <BarChart\n            width={300}\n            height={300}\n            data={graphData}\n            margin={{\n                top: 0, right: 30, left: 20, bottom: 5,\n            }}\n            style={{\n                marginLeft: \"auto\",\n                marginRight: \"auto\"\n            }}\n        >\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"name\" />\n            <YAxis domain={[0, 2000]} />\n            <Tooltip />\n            <Legend />\n            <Bar dataKey=\"kwh\" fill=\"#8884d8\" />\n        </BarChart>\n    )\n}\n\nexport default SavingsGraph","import { useState, useEffect } from \"react\"\n\nfunction useLocalStorageState(key, defaultVal) {\n    //make piece of state based off value in local storage\n    const [state, setState] = useState(() => {\n        let val;\n        try {\n            val = JSON.parse(window.localStorage.getItem(key) || String(defaultVal))\n        }\n        catch (e) {\n            val = defaultVal\n        }\n        return val\n    })\n    //use useEffect to update localstorage when state changes\n    useEffect(() => {\n        window.localStorage.setItem(key, JSON.stringify(state))\n    }, [state])\n    return [state, setState]\n}\nexport default useLocalStorageState","import React, { useContext, useState, PureComponent } from \"react\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Grid from \"@material-ui/core/Grid\"\nimport Viz from \"./Viz\"\nimport data from \"./data.json\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport Navbar from \"./Navbar\"\nimport VizToggle from \"./VizToggle\"\nimport SavingsDescription from \"./SavingsDescription\"\nimport SavingsGraph from \"./SavingsGraph\"\nimport useLocalStorageState from \"./hooks/useLocalStorageState\"\n\nfunction OpowerApp() {\n    const [vizMode, setVizMode] = useLocalStorageState(\"vizType\", \"cars\")\n    const [priorYear, setPriorYear] = useLocalStorageState(\"priorYear\", data.energyUse.priorYear)\n    const [currentYear, setCurrentYear] = useLocalStorageState(\"currentYear\", data.energyUse.currentYear)\n\n    const useStyles = makeStyles(theme => ({\n        root: {\n            flexGrow: 1\n        },\n        bgPaper: {\n            padding: 0,\n            margin: 0,\n            height: \"100vh\",\n            width: \"100vw\",\n            backgroundColor: \"#fafafa\"\n        },\n        mainGrid: {\n            marginTop: \"1rem\",\n            width: \"100vw\"\n        },\n        descriptionPaper: {\n            paddingTop: 20, paddingBottom: 20\n        },\n        vizPaper: {\n            textAlign: \"center\"\n        }\n    }))\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.bgPaper} elevation={0}>\n            <Navbar priorYear={priorYear} currentYear={currentYear} setPriorYear={setPriorYear} setCurrentYear={setCurrentYear} />\n            <Grid className={classes.mainGrid} container justify=\"center\" spacing={3}>\n                <Grid item xs={11} md={11} lg={6}>\n                    <Paper className={classes.descriptionPaper}>\n                        <SavingsDescription priorYear={priorYear} currentYear={currentYear} vizMode={vizMode} />\n                        <SavingsGraph priorYear={priorYear} currentYear={currentYear} vizMode={vizMode} />\n                    </Paper>\n                </Grid>\n                <Grid item xs={11} md={11} lg={5}>\n                    <Paper className={classes.vizPaper}>\n                        <VizToggle vizMode={vizMode} setVizMode={setVizMode} />\n                        <Viz priorYear={priorYear} currentYear={currentYear} vizMode={vizMode} />\n                    </Paper>\n                </Grid>\n\n            </Grid>\n        </Paper >\n    )\n}\n\nexport default OpowerApp","import React from 'react'\nimport './App.css'\nimport OpowerApp from './OpowerApp'\n\n\nfunction App() {\n  return (\n    <OpowerApp />\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}